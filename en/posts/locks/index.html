<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Locks - loommii</title><meta name="Description" content="Detailed explanation of various locks in computing: Mutex, Spinlock, Read-Write Lock, Pessimistic Lock, Optimistic Lock."><meta property="og:url" content="https://loommii.github.io/en/posts/locks/">
  <meta property="og:site_name" content="loommii">
  <meta property="og:title" content="Locks">
  <meta property="og:description" content="Detailed explanation of various locks in computing: Mutex, Spinlock, Read-Write Lock, Pessimistic Lock, Optimistic Lock.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-12-08T00:28:39+08:00">
    <meta property="article:modified_time" content="2026-01-16T01:28:43+08:00">
    <meta property="article:tag" content="Lock">
    <meta property="article:tag" content="Concurrency">
    <meta property="article:tag" content="Mutex">
    <meta property="article:tag" content="Spinlock">
    <meta property="article:tag" content="Read-Write Lock">
    <meta property="article:tag" content="Optimistic Lock">
    <meta property="og:image" content="https://loommii.github.io/images/logo.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://loommii.github.io/images/logo.png">
  <meta name="twitter:title" content="Locks">
  <meta name="twitter:description" content="Detailed explanation of various locks in computing: Mutex, Spinlock, Read-Write Lock, Pessimistic Lock, Optimistic Lock.">
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site">
<meta name="referrer" content="no-referrer" /><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://loommii.github.io/en/posts/locks/" /><link rel="prev" href="https://loommii.github.io/en/posts/the_relationship_between_program_and_memory/" /><link rel="next" href="https://loommii.github.io/en/posts/a_brief_discussion_on_go_gc_garbage_collection/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Locks",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/loommii.github.io\/en\/posts\/locks\/"
        },"genre": "posts","keywords": "Lock, Concurrency, Mutex, Spinlock, Read-Write Lock, Optimistic Lock, Pessimistic Lock, Synchronization Mechanism","wordcount":  427 ,
        "url": "https:\/\/loommii.github.io\/en\/posts\/locks\/","datePublished": "2024-12-08T00:28:39+08:00","dateModified": "2026-01-16T01:28:43+08:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "loommii"
            },"description": "Detailed explanation of various locks in computing: Mutex, Spinlock, Read-Write Lock, Pessimistic Lock, Optimistic Lock."
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>
          const query = window.matchMedia('(prefers-color-scheme: dark)');
          function applyTheme() {
            let theme = window.localStorage?.getItem('theme') || 'auto';
            let isDark = theme === 'dark' || (theme === 'auto' && query.matches);
            document.body.setAttribute('theme', isDark? 'dark' : 'light');
            document.body.setAttribute('cfg-theme', theme);
          }

          applyTheme();
          query.addEventListener('change', applyTheme);
        </script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/en/" title="loommii"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/logo.png"
        data-srcset="/images/logo.png, /images/logo.png 1.5x, /images/logo.png 2x"
        data-sizes="auto"
        alt="/images/logo.png"
        title="/images/logo.png" />loommii</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/en/posts/"> Posts </a><a class="menu-item" href="/en/go_practise/"> Go Practice </a><a class="menu-item" href="/en/leetcode/"> LeetCode Solutions </a><a class="menu-item" href="/en/categories/"> Categories </a><a class="menu-item" href="/en/tags/"> Tags </a><a class="menu-item" href="/en/posts/"> Archives </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a><a href="javascript:void(0);" class="menu-item language" title="Select Language">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>                      
                    <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/zh-cn/posts/locks/">简体中文</option><option value="/en/posts/locks/" selected>English</option></select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/en/" title="loommii"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/logo.png"
        data-srcset="/images/logo.png, /images/logo.png 1.5x, /images/logo.png 2x"
        data-sizes="auto"
        alt="/images/logo.png"
        title="/images/logo.png" />loommii</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/en/posts/" title="">Posts</a><a class="menu-item" href="/en/go_practise/" title="">Go Practice</a><a class="menu-item" href="/en/leetcode/" title="">LeetCode Solutions</a><a class="menu-item" href="/en/categories/" title="">Categories</a><a class="menu-item" href="/en/tags/" title="">Tags</a><a class="menu-item" href="/en/posts/" title="">Archives</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Select Language">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/zh-cn/posts/locks/">简体中文</option><option value="/en/posts/locks/" selected>English</option></select>
                </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Locks</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://github.com/loommii" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>loommii</a></span>&nbsp;<span class="post-category">included in <a href="/en/categories/concurrency-programming/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Concurrency Programming</a>&nbsp;<a href="/en/categories/systems-programming/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Systems Programming</a>&nbsp;<a href="/en/categories/tech-article/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Tech Article</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2024-12-08">2024-12-08</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;427 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;3 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#mutex">Mutex</a></li>
    <li><a href="#spinlock">Spinlock</a></li>
    <li><a href="#read-write-lock">Read-Write Lock</a></li>
    <li><a href="#optimistic-lock-and-pessimistic-lock">Optimistic Lock and Pessimistic Lock</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>In concurrent computing, computers are highly likely to encounter data corruption issues. Therefore, &ldquo;locks&rdquo; are introduced to solve this type of problem.
Common locks: Mutex, Spinlock, Read-Write Lock, Pessimistic Lock, Optimistic Lock.</p>
<h2 id="mutex">Mutex</h2>
<p>Characteristics: Easy to implement, the most basic lock concept.</p>
<p>Explanation: When using a resource, lock it first before using. After locking, no other threads can lock it again. Until unlocked, other threads can then lock and use it.</p>
<p>Real-life example: Public restroom, whoever wants to use the restroom must lock it first before use, preventing others from entering and using the restroom.</p>
<h2 id="spinlock">Spinlock</h2>
<p>A spinlock is very similar to a mutex.
Difference:</p>
<ul>
<li>Spinlock: If locking fails, the thread will continuously try to acquire the lock until it gets the lock.</li>
<li>Mutex: If locking fails, the thread will release the CPU resource and wait for unlocking before applying for the lock again.</li>
</ul>
<p>Real-life example -&gt; Public restroom
Spinlock: Continuously knocking on the door until the person inside comes out.
Mutex: Stays idle until the person inside comes out and calls you.</p>
<h2 id="read-write-lock">Read-Write Lock</h2>
<p>As the name suggests, it consists of a <code>read lock</code> and a <code>write lock</code>. Reading data is often done concurrently, and concurrent writing of data may lead to unexpected results.</p>
<ul>
<li>Reading data requires that there is currently no write lock.</li>
<li>Writing data requires that there is currently no write lock or read lock.
Real-life example: Assume all exam scores for a class are written in the same notebook. Students read the scores, and teachers write the scores. Students can view the scores simultaneously, but Chinese and Math teachers cannot concurrently write scores on the same page.</li>
</ul>
<p>Read-write locks can be divided into <code>Read-Priority Lock</code>, <code>Write-Priority Lock</code>, and <code>Fair Read-Write Lock</code>.</p>
<ul>
<li>Read-Priority Lock
Students, upon seeing a teacher waiting to modify data, ignore the teacher and continue reading data.</li>
<li>Write-Priority Lock
<ul>
<li>
<p>Reading data also requires that there are no waiting write locks.</p>
<p>Students, upon seeing a teacher waiting to modify data, will actively let the teacher write the data.</p>
</li>
</ul>
</li>
<li>Fair Read-Write Lock
<ul>
<li>
<p>Put read requests into a queue, and read/write in turn.</p>
<p>Students and teachers form a queue.</p>
</li>
</ul>
</li>
</ul>
<h2 id="optimistic-lock-and-pessimistic-lock">Optimistic Lock and Pessimistic Lock</h2>
<p>Mutex, Spinlock, and Read-Write Lock are all pessimistic locks.</p>
<p>Pessimistic Lock: The probability of multiple threads simultaneously modifying shared resources is relatively high, making conflicts likely. Therefore, a lock is required before accessing shared resources.
Optimistic Lock: Assumes the probability of conflicts is relatively low. It does not apply any lock, but instead verifies whether the data has been modified. If it has been modified, the current operation is abandoned.</p></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2026-01-16</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on X" data-sharer="x" data-url="https://loommii.github.io/en/posts/locks/" data-title="Locks" data-hashtags="Lock,Concurrency,Mutex,Spinlock,Read-Write Lock,Optimistic Lock,Pessimistic Lock,Synchronization Mechanism"><i class="fab fa-x-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Threads" data-sharer="threads" data-url="https://loommii.github.io/en/posts/locks/" data-title="Locks"><i class="fab fa-threads fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://loommii.github.io/en/posts/locks/" data-hashtag="Lock"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://loommii.github.io/en/posts/locks/" data-title="Locks"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://loommii.github.io/en/posts/locks/" data-title="Locks"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@15.14.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://loommii.github.io/en/posts/locks/" data-title="Locks"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Diaspora" data-sharer="diaspora" data-url="https://loommii.github.io/en/posts/locks/" data-title="Locks" data-description="Detailed explanation of various locks in computing: Mutex, Spinlock, Read-Write Lock, Pessimistic Lock, Optimistic Lock."><i class="fab fa-diaspora fa-fw" aria-hidden="true"></i></a><a href="https://t.me/share/url?url=https%3a%2f%2floommii.github.io%2fen%2fposts%2flocks%2f&amp;text=Locks" target="_blank" title="Share on Telegram"><i class="fab fa-telegram fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/en/tags/lock/">Lock</a>,&nbsp;<a href="/en/tags/concurrency/">Concurrency</a>,&nbsp;<a href="/en/tags/mutex/">Mutex</a>,&nbsp;<a href="/en/tags/spinlock/">Spinlock</a>,&nbsp;<a href="/en/tags/read-write-lock/">Read-Write Lock</a>,&nbsp;<a href="/en/tags/optimistic-lock/">Optimistic Lock</a>,&nbsp;<a href="/en/tags/pessimistic-lock/">Pessimistic Lock</a>,&nbsp;<a href="/en/tags/synchronization-mechanism/">Synchronization Mechanism</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/en/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/en/posts/the_relationship_between_program_and_memory/" class="prev" rel="prev" title="The Relationship Between Programs and Memory"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>The Relationship Between Programs and Memory</a>
            <a href="/en/posts/a_brief_discussion_on_go_gc_garbage_collection/" class="next" rel="next" title="An Overview of Go GC (Garbage Collection)">An Overview of Go GC (Garbage Collection)<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.145.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.3.1-DEV"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2019 - 2026</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/en/" target="_blank">loommii</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a>
        </div>

        <div id="fixed-buttons-hidden"><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><script src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script src="/lib/lunr/lunr.stemmer.support.min.js"></script><script src="/lib/lunr/lunr.zh.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.2/sharer.min.js"></script><script>window.config={"comment":{},"lightgallery":true,"search":{"highlightTag":"em","lunrLanguageCode":"en","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30}};</script><script src="/js/theme.min.js"></script></body>
</html>
