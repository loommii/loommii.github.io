<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>空结构体 - 标签 - loommii</title>
        <link>https://loommii.github.io/zh-cn/tags/%E7%A9%BA%E7%BB%93%E6%9E%84%E4%BD%93/</link>
        <description>空结构体 - 标签 - loommii</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Fri, 06 Dec 2024 19:40:52 &#43;0800</lastBuildDate><atom:link href="https://loommii.github.io/zh-cn/tags/%E7%A9%BA%E7%BB%93%E6%9E%84%E4%BD%93/" rel="self" type="application/rss+xml" /><item>
    <title>Go每日一题_009</title>
    <link>https://loommii.github.io/zh-cn/go_practise/go%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98_009/</link>
    <pubDate>Fri, 06 Dec 2024 19:40:52 &#43;0800</pubDate>
    <author>loommii</author>
    <guid>https://loommii.github.io/zh-cn/go_practise/go%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98_009/</guid>
    <description><![CDATA[<p>空 struct{} 占多少空间？有什么用途？</p>
<button class="toggle-button" onclick="this.nextElementSibling.classList.toggle('show')">🔑 答案解析：</button>
<div class="toggle-content">
  <p>答:0 , 用于占位符</p>
<p>例如:</p>
<ol>
<li>map[string]struct{},只关注key是否存在的话可以使用节省内存空间</li>
<li>ch := make(chan struct{}, 1)，使用信道(channel)控制并发时，我们只是需要一个信号，但并不需要传递值，这个时候，也可以使用 struct{} 代替。</li>
<li>type Lamp struct{} ,声明只包含方法的结构体。</li>
</ol>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-go">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="复制到剪贴板"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Lamp</span> <span class="kd">struct</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">l</span> <span class="nx">Lamp</span><span class="p">)</span> <span class="nf">On</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nb">println</span><span class="p">(</span><span class="s">&#34;On&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">l</span> <span class="nx">Lamp</span><span class="p">)</span> <span class="nf">Off</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nb">println</span><span class="p">(</span><span class="s">&#34;Off&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<p>解析:
Go为每一种类型都有全局唯一的类型元数据，元数据记录了该类型大小。因为空结构体内没有任何的类型因此空类型的大小为0。但是因为有创建类型元数据因此可以想正常的类型一样用于占位
这里建议看一下参考资料<code>【幼麟实验室】- Go类型系统讲解</code></p>]]></description>
</item>
</channel>
</rss>
